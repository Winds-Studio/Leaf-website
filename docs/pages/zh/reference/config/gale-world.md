# 世界设置

每个世界的默认设置可以在 `config/gale-world-defaults.yml` 中进行配置，特定世界的覆盖设置则在 `<world name>/gale-world.yml` 中设置。

[[toc]]

## `small-optimizations`

### `save-fireworks`

控制在保存区块时是否保存烟花。

烟花可能会出现故障，导致无法引爆，而使用发射器可能会填满一个区块。如果设置为 `true`，则在区块卸载时会移除任何烟花，以防止此类情况。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `true`     | `true`  | `true`    |

| **目标值** |                                                                |
| ---------- | -------------------------------------------------------------- |
| _优化_     | 通常：- （不太重要）<br>如果预计玩家会尝试破坏服务器： `false` |
| _原版行为_ | `true`                                                         |

### `use-optimized-sheep-offspring-color`

控制是否使用更快的方法选择新出生小羊的颜色。

所选择的颜色与原版完全相同。若设置为 `true`，则会忽略任何通过数据包更改的合成配方。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `true`     | `true`     | `false` | `false`   |

| **目标值** |         |
| ---------- | ------- |
| _优化_     | `true`  |
| _原版行为_ | `false` |

### `load-chunks`

控制是否在特定情况下加载区块。

#### `to-spawn-phantoms`

是否加载区块以生成幻影。

若设置为 `false`，当服务器尝试在未加载的区块中生成幻影时，将不会发生任何事情。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `false`    | `false`    | `true`  | `true`    |

| **目标值** |         |
| ---------- | ------- |
| _优化_     | `false` |
| _原版行为_ | `true`  |

#### `to-activate-climbing-entities`

是否加载区块以激活攀爬实体。

在 Paper 中，像僵尸这样的实体在“攀爬”时优先激活。若设置为 `false`，则服务器将不会检查未加载区块中的实体的“攀爬”优先级，从而避免不必要的服务器挂起。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `false`    | `false`    | `true`  | -         |

| **目标值**   |         |
| ------------ | ------- |
| _优化_       | `false` |
| _Paper 行为_ | `true`  |

## `max-projectile-chunk-loads`

控制投射物（如箭、三叉戟或末影珍珠）加载区块的设置。

#### `per-tick`

每个世界中，所有投射物在一个刻中可以同步加载的最大区块数量。

若给定值小于 `0`，则此设置被禁用，投射物加载的区块数量将不受限制。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `10`       | `10`       | `-1`    | `-1`      |

| **目标值** |      |
| ---------- | ---- |
| _优化_     | `2`  |
| _原版行为_ | `-1` |

#### `per-projectile`

##### `max`

投射物在其生命周期中可以同步加载的最大区块数量。

若给定值小于 `0`，则此设置被禁用，投射物加载的区块数量将不受限制。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `10`       | `10`       | `-1`    | `-1`      |

| **目标值** |      |
| ---------- | ---- |
| _优化_     | `10` |
| _原版行为_ | `-1` |

##### `reset-movement-after-reach-limit`

是否在投射物越过 `max` 阈值时将其平面速度设置为零，以停止其尝试越过区块边界。

若 `remove-from-world-after-reach-limit` 为 `true`，则此设置无效。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `false`    | `false` | `false`   |

| **目标值** |                                        |
| ---------- | -------------------------------------- |
| _优化_     | `true`（极端情况下，但有风险，见上文） |
| _原版行为_ | `false`                                |

##### `remove-from-world-after-reach-limit`

是否在投射物越过 `max` 阈值时将其从世界中完全移除。

从世界中移除投射物有风险，因为这可能影响对玩家有价值的投射物（如三叉戟），因此不建议将此值设置为 `true`，除非您接受此风险。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `false`    | `false`    | `false` | `false`   |

| **目标值** |                                         |
| ---------- | --------------------------------------- |
| _优化_     | `true` 在极端情况下，但有风险（见上文） |
| _原版行为_ | `false`                                 |

## `reduced-intervals`

### `acquire-poi-for-stuck-entity`

被卡住的实体（如车辆）尝试获取 POI（如村民工作块）的额外间隔，单位为刻（ticks）。

若在此期间它们不再卡住，将立即能够再次获取 POI。

例如，若此值设置为 `100`，则卡住的实体将每 5 秒尝试找到一个 POI。

若给定值小于 `0`，则默认为与 Paper 相同。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `60`       | `60`       | `200`   | `0`       |

| **目标值** |       |
| ---------- | ----- |
| _优化_     | `200` |
| _原版行为_ | `0`   |

### `check-stuck-in-wall`

检查实体是否卡在墙里的间隔，单位为刻（ticks），以处理窒息伤害。

由于在造成伤害后会有一个间隔（约为 1 秒），在此期间实体不能受到重复伤害，因此将窒息检查延迟不到 1 秒几乎是不可察觉的。

例如，若此值设置为 `10`，则实体将每 ½ 秒检查是否被窒息。

若给定值小于或等于 `0`，则默认为与 Paper 相同。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `10`       | `10`       | `1`     | `1`       |

| **目标值** |      |
| ---------- | ---- |
| _优化_     | `10` |
| _原版行为_ | `1`  |

### `villager-item-repickup`

村民掉落的物品被（其他）实体拾取的最小延迟，单位为刻（ticks）。

- 防止村民在某些农场设计中在漏斗之前拾取种植的物品。
- 减少村民在其库存已满时不断相互抛掷大量物品的延迟。

例如，若此值设置为 `100`，则村民掉落的物品可以在 5 秒后被实体拾取。

若给定值小于 `0`，则默认为与原版相同，当前为 `10` 刻（½ 秒）。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `100`      | `100`      | `-1`    | `-1`      |

| **目标值** |       |
| ---------- | ----- |
| _优化_     | `100` |
| _原版行为_ | `-1`  |

### `check-nearby-item.hopper`

漏斗检查拾取物品的频率。

此设置仅影响在世界中的拾取（例如，掉落的）物品，而不影响从箱子或其他存储方块中拉取物品。

- `interval`
  漏斗方块检查拾取物品的频率，单位为刻（ticks）。

例如，若此值设置为 `20`，则漏斗将每秒检查一次其上方的物品。

若给定值小于或等于 `0`，则默认为与 Paper 相同。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `20`       | `20`       | `1`     | `1`       |

| **目标值** |      |
| ---------- | ---- |
| _优化_     | `50` |
| _原版行为_ | `1`  |

- `minecart`

- `interval`
  与上面的 `interval` 设置相同，但适用于漏斗矿车。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `20`       | `20`       | `1`     | `1`       |

| **目标值** |      |
| ---------- | ---- |
| _优化_     | `20` |
| _原版行为_ | `1`  |

- `temporary-immunity`

  漏斗矿车可以暂时免受上述 `interval` 设置的影响。当矿车处于免疫状态时，可以每刻检查一次物品。

  `duration`
  漏斗矿车在暂时免受 `interval` 设置影响的持续时间，单位为刻（ticks）。

  若给定值小于或等于 `0`，则漏斗矿车将永远不会暂时免受 `interval` 设置的影响。

  |            | **默认值** |         |           |
  | ---------- | ---------- | ------- | --------- |
  | **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
  | `100`      | `100`      | -       | -         |

  | **目标值** |                                             |
  | ---------- | ------------------------------------------- |
  | _优化_     | `75`                                        |
  | _原版行为_ | - （对于原版行为，`interval` 必须设置为 1） |

  `nearby-item-max-age`
  物品的年龄（以刻为单位）高于此值的物品将不会导致附近的漏斗矿车免受 `interval` 设置的影响。

若给定值小于或等于 `0`，则表示没有最小年龄，即所有物品均可使附近的漏斗矿车暂时免受 `interval` 设置的影响。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `1200`     | `1200`     | -       | -         |

| **目标值** |                                             |
| ---------- | ------------------------------------------- |
| _优化_     | `600`                                       |
| _原版行为_ | - （对于原版行为，`interval` 必须设置为 1） |

`check-for-item-near-minecart-interval`

检查附近的物品的频率，以使漏斗矿车暂时免受 `interval` 设置影响，单位为刻（ticks）。

若给定值小于或等于 `0`，则行为如同 `1`。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `20`       | `20`       | -       | -         |

| **目标值** |                                             |
| ---------- | ------------------------------------------- |
| _优化_     | `20`                                        |
| _原版行为_ | - （对于原版行为，`interval` 必须设置为 1） |

`check-for-minecart-near-item-while-inactive`

是否检查附近的物品，以使处于非活动状态的漏斗矿车暂时免受 `interval` 设置影响。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `true`     | `true`     | -       | -         |

| **目标值** |                                             |
| ---------- | ------------------------------------------- |
| _优化_     | `true`                                      |
| _原版行为_ | - （对于原版行为，`interval` 必须设置为 1） |

`max-item-horizontal-distance`

掉落物品距离漏斗矿车的最大水平距离，以便给它暂时免受 `interval` 设置的影响。

若给定值小于 `0`，则漏斗矿车将永远不会暂时免受 `interval` 设置的影响。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `24.0`     | `24.0`     | -       | -         |

| **目标值** |                                             |
| ---------- | ------------------------------------------- |
| _优化_     | `24.0`                                      |
| _原版行为_ | - （对于原版行为，`interval` 必须设置为 1） |

`max-item-vertical-distance`

与 `max-item-horizontal-distance` 相同，但这是最大垂直距离。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `4.0`      | `4.0`      | -       | -         |

| **目标值** |                                             |
| ---------- | ------------------------------------------- |
| _优化_     | `4.0`                                       |
| _原版行为_ | - （对于原版行为，`interval` 必须设置为 1） |

## `gameplay-mechanics`

### `arrow-movement-resets-despawn-counter`

当箭开始下落（例如，当它卡在的方块被破坏时）是否重启箭的消失计数器。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `true`     | `true`  | `true`    |

| **目标值** |         |
| ---------- | ------- |
| _优化_     | `false` |
| _原版行为_ | `true`  |

### `entities-can-random-stroll-into-non-ticking-chunks`

是否允许随机游荡的实体路径查找进入非滴答区块。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `true`     | `true`  | `true`    |

| **目标值** |        |
| ---------- | ------ |
| _优化_     | -      |
| _原版行为_ | `true` |

### `entity-wake-up-duration-ratio-standard-deviation`

若此值设置为大于 `0`，唤醒非活动实体的过程将分散在时间上，而不是一次性唤醒多个实体，使实体的行为更自然。

此设置为[变异系数](https://en.wikipedia.org/wiki/Coefficient_of_variation)，或 `σ / μ`（标准差与均值的比率）非活动持续时间。

换句话说，此设置为值 `σ`，因此常规非活动持续时间将乘以因子 `normal_distribution(μ = 1, σ)`。

若给定值小于或等于 `0`，则禁用可变实体唤醒。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| `0.2`      | `0.2`      | `0.0`   | -         |

| **目标值**   |       |
| ------------ | ----- |
| _优化_       | -     |
| _Paper 行为_ | `0.0` |

### `hide-flames-on-entities-with-fire-resistance`

是否隐藏处于火焰状态的实体的可视火焰，同时具有火焰抗性药水效果。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `false`    | `false` | `false`   |

| **目标值** |         |
| ---------- | ------- |
| _优化_     | -       |
| _原版行为_ | `false` |

### `player-max-interaction-distance`

玩家可以与之交互的方块的最大距离（通过左键或右键点击）。

增加此值使得对连接不良的玩家更具可玩性，但也可能使使用黑客客户端的玩家能够比正常情况更远地进行交互。

若给定值小于或等于 `0`，则默认为与原版相同，当前为 `6.0`。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `-1.0`     | `-1.0`  | `-1.0`    |

| **目标值** |        |
| ---------- | ------ |
| _优化_     | -      |
| _原版行为_ | `-1.0` |

### `try-respawn-ender-dragon-after-end-crystal-place`

在正确的位置上放置末影水晶后，是否尝试重新生成末影龙。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `true`     | `true`  | `true`    |

| **目标值** |        |
| ---------- | ------ |
| _优化_     | -      |
| _原版行为_ | `true` |

### `fixes`

#### `sand-duping`

是否修复沙子复制。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `true`     | `true`  | `false`   |

| **目标值** |         |
| ---------- | ------- |
| _优化_     | -       |
| _原版行为_ | `false` |

#### `tripwire-duping`

是否修复三丝复制。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `true`     | `true`  | `false`   |

| **目标值** |         |
| ---------- | ------- |
| _优化_     | -       |
| _原版行为_ | `false` |

#### `broadcast-crit-animations-as-the-entity-being-critted`

是否将暴击动画广播为被暴击的实体。

此设置不影响动画显示的位置：它始终显示在被暴击的实体上。若设置为 `false`，则暴击动画被广播为进行暴击的玩家。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `false`    | `false` | `false`   |

| **目标值** |         |
| ---------- | ------- |
| _优化_     | -       |
| _原版行为_ | `false` |

#### `check-can-change-dimensions-before-use-end-gateway`

是否检查实体在使用末影传送门时是否可以改变维度。

请注意，将此设置为 `true` 意味着车辆（如船或马）和车辆的乘客将无法使用末影传送门。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `false`    | `false` | `false`   |

| **目标值** |         |
| ---------- | ------- |
| _优化_     | -       |
| _原版行为_ | `false` |

#### `keep-mooshroom-rotation-after-shearing`

是否使牛头人（mooshroom）在被剪毛后保持其旋转（修复部分 [MC-88967](https://bugs.mojang.com/browse/MC-88967)）。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `true`     | `false` | `false`   |

| **目标值** |         |
| ---------- | ------- |
| _优化_     | -       |
| _原版行为_ | `false` |

#### `mc-...`

是否修复一些 Minecraft 错误/不一致。

|                                                       |            |         | **默认值** |           |
| ----------------------------------------------------- | ---------- | ------- | ---------- | --------- |
| **属性**                                              | **推荐值** | _Gale_  | _Paper_    | _Vanilla_ |
| [mc-31819](https://bugs.mojang.com/browse/MC-31819)   | `true`     | `true`  | `false`    | `false`   |
| [mc-110386](https://bugs.mojang.com/browse/MC-110386) | `true`     | `true`  | `false`    | `false`   |
| [mc-121706](https://bugs.mojang.com/browse/MC-121706) | `true`     | `false` | `false`    | `false`   |
| [mc-238526](https://bugs.mojang.com/browse/MC-238526) | -          | `false` | `false`    | `false`   |

## `technical`

#### `load-portal-destination-chunk-before-entity-teleport`

是否在传送实体时完全加载区块，以确保整个服务器等待区块加载。

|            | **默认值** |         |           |
| ---------- | ---------- | ------- | --------- |
| **推荐值** | _Gale_     | _Paper_ | _Vanilla_ |
| -          | `false`    | `false` | `false`   |

| **目标值** |         |
| ---------- | ------- |
| _优化_     | `false` |
| _原版行为_ | `false` |
